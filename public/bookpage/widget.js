var TidSDK;(()=>{var t={665:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none"><mask id="a" width="16" height="16" x="0" y="0" maskUnits="userSpaceOnUse" style="mask-type:alpha"><path fill="#000" d="M6.586 8 3.293 4.707a1 1 0 0 1 1.414-1.414L8 6.586l3.293-3.293a1 1 0 1 1 1.414 1.414L9.414 8l3.293 3.293a1 1 0 0 1-1.414 1.414L8 9.414l-3.293 3.293a1 1 0 0 1-1.414-1.414L6.586 8Z"></path></mask><g mask="url(#a)"><path fill="#000" fill-opacity=".54" d="M0 0h16v16H0z"></path></g></svg>'},599:t=>{t.exports='<svg viewBox="0 0 47 26" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1518_3310)"><path d="M34.0698 0.5H12.9302C6.0652 0.5 0.5 6.09644 0.5 13C0.5 19.9036 6.0652 25.5 12.9302 25.5H34.0698C40.9348 25.5 46.5 19.9036 46.5 13C46.5 6.09644 40.9348 0.5 34.0698 0.5Z" fill="#303030"></path><path d="M7.71124 6.92676H21.1024V13.6992C21.1024 15.4356 20.1805 17.0403 18.6863 17.9085L14.4068 20.3931L10.1274 17.9085C8.6312 17.0403 7.71124 15.4356 7.71124 13.6992V6.92676Z" fill="#FFDD2D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M11.3852 10.4917V12.5973C11.6723 12.2712 12.1919 12.0513 12.7876 12.0513H13.4341V14.5006C13.4341 15.1527 13.2583 15.7223 12.9966 16.0366H15.8112C15.5514 15.7223 15.3756 15.1527 15.3756 14.5025V12.0532H16.0221C16.6179 12.0532 17.1394 12.2732 17.4245 12.5993V10.4937H11.3833L11.3852 10.4917Z" fill="#333333"></path><path d="M28.7473 17.2466V9.28772H26.2511V17.2466H28.7473Z" fill="white"></path><path d="M34.7632 17.2466C37.9215 17.2466 39.4841 15.5574 39.4841 13.2671C39.4841 10.9769 37.9196 9.28772 35.0288 9.28772H30.5735V17.2466H34.7651H34.7632ZM34.5112 11.193C36.2242 11.193 36.9391 11.9629 36.9391 13.2671C36.9391 14.4712 36.2261 15.3904 34.5112 15.3904H32.9819V11.193H34.5112Z" fill="white"></path></g><defs><clipPath id="clip0_1518_3310"><rect width="46" height="25" fill="white" transform="translate(0.5 0.5)"></rect></clipPath></defs></svg>'},749:t=>{t.exports='<svg viewBox="0 0 37 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1518_2789)"><path d="M27.0018 0H9.99822C4.47635 0 0 4.47715 0 10C0 15.5228 4.47635 20 9.99822 20H27.0018C32.5236 20 37 15.5228 37 10C37 4.47715 32.5236 0 27.0018 0Z" fill="#303030"></path><path d="M5.80035 5.14148H16.5715V10.5595C16.5715 11.9485 15.83 13.2323 14.6281 13.9268L11.1859 15.9146L7.74375 13.9268C6.54032 13.2323 5.80035 11.9485 5.80035 10.5595V5.14148Z" fill="#FFDD2D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.75551 7.99341V9.67788C8.98645 9.41704 9.40435 9.24105 9.88353 9.24105H10.4035V11.2005C10.4035 11.7222 10.2622 12.1779 10.0516 12.4293H12.3155C12.1066 12.1779 11.9652 11.7222 11.9652 11.2021V9.24262H12.4852C12.9644 9.24262 13.3838 9.41861 13.6132 9.67945V7.99498H8.75394L8.75551 7.99341Z" fill="#333333"></path><path d="M22.7206 13.3972V7.03015H20.7128V13.3972H22.7206Z" fill="white"></path><path d="M27.5595 13.3972C30.0999 13.3972 31.3567 12.0459 31.3567 10.2137C31.3567 8.3815 30.0983 7.03015 27.7732 7.03015H24.1896V13.3972H27.5611H27.5595ZM27.3568 8.55435C28.7346 8.55435 29.3097 9.17031 29.3097 10.2137C29.3097 11.1769 28.7362 11.9123 27.3568 11.9123H26.1267V8.55435H27.3568Z" fill="white"></path></g><defs><clipPath id="clip0_1518_2789"><rect width="37" height="20" fill="white"></rect></clipPath></defs></svg>'},800:t=>{t.exports='<svg viewBox="0 0 26 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1518_1565)"><path d="M18.9742 0H7.02577C3.14555 0 0 3.13401 0 7C0 10.866 3.14555 14 7.02577 14H18.9742C22.8545 14 26 10.866 26 7C26 3.13401 22.8545 0 18.9742 0Z" fill="#303030"></path><path d="M4.07593 3.599H11.6449V7.39158C11.6449 8.36393 11.1238 9.26258 10.2792 9.74875L7.8604 11.1402L5.44156 9.74875C4.59591 9.26258 4.07593 8.36393 4.07593 7.39158V3.599Z" fill="#FFDD2D"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6.15253 5.59534V6.77447C6.31482 6.59188 6.60848 6.46869 6.94519 6.46869H7.31061V7.84031C7.31061 8.20549 7.21126 8.52447 7.06332 8.70046H8.65417C8.50734 8.52447 8.40798 8.20549 8.40798 7.84141V6.46979H8.7734C9.11011 6.46979 9.40488 6.59298 9.56606 6.77557V5.59644H6.15143L6.15253 5.59534Z" fill="#333333"></path><path d="M15.9659 9.37809V4.92114H14.555V9.37809H15.9659Z" fill="white"></path><path d="M19.3661 9.37809C21.1513 9.37809 22.0345 8.43214 22.0345 7.14961C22.0345 5.86709 21.1502 4.92114 19.5163 4.92114H16.9981V9.37809H19.3672H19.3661ZM19.2237 5.98808C20.1919 5.98808 20.596 6.41926 20.596 7.14961C20.596 7.82388 20.193 8.33865 19.2237 8.33865H18.3593V5.98808H19.2237Z" fill="white"></path></g><defs><clipPath id="clip0_1518_1565"><rect width="26" height="14" fill="white"></rect></clipPath></defs></svg>'},913:(t,e,n)=>{"use strict";n.d(e,{Z:()=>gt});var i=function(){function t(t,e,n){this.element=document.createElement(t),this.className="tid-".concat(n,"-").concat(e),this.element.classList.add(this.className)}return t.prototype.addClasses=function(t){var e,n=this,i=t.map((function(t){return"".concat(n.className,"-").concat(t)}));(e=this.element.classList).add.apply(e,i)},t.prototype.replaceClasses=function(t,e){this.element.classList.replace("".concat(this.className,"-").concat(t),"".concat(this.className,"-").concat(e))},t.prototype.addStyle=function(t,e){this.element.style.setProperty(t,e)},t.prototype.getElement=function(){return this.element},t.prototype.appendChildElement=function(t){this.element.appendChild(t)},t.prototype.insertAdjacentElement=function(t,e){this.element.insertAdjacentElement(t,e)},t.prototype.innerText=function(t){this.element.innerText=t},t.prototype.innerHTML=function(t){this.element.innerHTML=t},t.prototype.addListener=function(t,e,n){this.element.addEventListener(t,e,n)},t.prototype.remove=function(){this.element.remove()},t}(),r=function(t){var e=new URLSearchParams;for(var n in t){var i=t[n];t[n]&&e.append(n,i)}return"https://id.tbank.ru/auth/authorize?"+e.toString()},o=function(t){return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:null},a=function(){function t(){}return t.createStyles=function(t,e,n){var i=document.createElement("style"),r=Object.entries(t).reduce((function(t,n){var i=".tid-".concat(e,"-").concat(n[0]," { ").concat(Object.entries(n[1]).map((function(t){var e=t[0],n=t[1];return"".concat(e,": ").concat(n)})).join("; "),"; }");return"".concat(t," ").concat(i)}),"");i.innerHTML="".concat(r," ").concat(n),document.head.appendChild(i)},t}(),s="4PNRE",c={button:{display:"flex","align-items":"center","justify-content":"center",border:"none",cursor:"pointer","text-decoration":"none","box-sizing":"border-box"},"button:hover":{"text-decoration":"none"},"button-full":{width:"100%"},"button-xs":{"border-radius":"50%",width:"56px",height:"56px"},"button-s":{padding:"8px 18px","border-radius":"8px","min-width":"128px"},"button-m":{padding:"11px 26px","border-radius":"8px","min-width":"177px"},"button-l":{padding:"16px 32px","border-radius":"8px","min-width":"225px"},"button-primary":{"background-color":"#FFDD2D"},"button-primary:hover":{"background-color":"#FCC521"},"button-primary:active":{"background-color":"#FAB619"},"button-primary:focus":{outline:"2px solid rgba(51, 51, 51, 0.48)"},"button-grey":{"background-color":"#F5F5F6"},"button-grey:hover":{"background-color":"#EBEBEB"},"button-grey:active":{"background-color":"#E0E0E0"},"button-grey:focus":{outline:"2px solid rgba(51, 51, 51, 0.48)"},"button-black":{"background-color":"#333333"},"button-black:hover":{"background-color":"#393939"},"button-black:active":{"background-color":"#404040"},"button-black:focus":{outline:"2px solid #FFFFFF"},"button-white":{border:"1px solid #DDDFE0","background-color":"#FFFFFF"},"button-white:hover":{"background-color":"#EFEFEF"},"button-white:active":{"background-color":"#DDDDDD"},"button-white:focus":{outline:"2px solid rgba(51, 51, 51, 0.48)"},"button-badge":{"justify-content":"space-between"},"button-badge-s":{padding:"8px 10px"},"button-badge-m":{padding:"11px 14.5px"},"button-badge-l":{padding:"16px 19px"},inner:{display:"flex","align-items":"center"},text:{"font-family":'"Helvetica Neue", sans-serif',"font-style":"normal","font-weight":400},"text-primary":{color:"#000000"},"text-grey":{color:"#000000"},"text-black":{color:"#FFFFFF"},"text-white":{color:"#000000"},"text-s":{"font-size":"10px","line-height":"16px"},"text-m":{"font-size":"14px","line-height":"22px"},"text-l":{"font-size":"18px","line-height":"28px"},"badge-s":{"border-radius":"10px",padding:"0 4px","font-size":"11px"},"badge-m":{"border-radius":"10px",padding:"2px 6.5px","font-size":"11px"},"badge-l":{"border-radius":"12px",padding:"2px 8px","font-size":"13px"},"badge-primary":{"background-color":"#FFEE95",color:"rgba(0, 0, 0, 0.8)"},"badge-grey":{"background-color":"#FFFFFF",color:"rgba(0, 0, 0, 0.8)"},"badge-black":{"background-color":"#3D3D3D",color:"#fff"}},l=function(){function t(){}return t.init=function(){t.hasAlreadyInitialized||(a.createStyles(c,s),t.hasAlreadyInitialized=!0)},t.hasAlreadyInitialized=!1,t}();const u={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p;const h=new Uint8Array(16);function d(){if(!p&&(p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(h)}const f=[];for(let t=0;t<256;++t)f.push((t+256).toString(16).slice(1));const m=function(t,e,n){if(u.randomUUID&&!e&&!t)return u.randomUUID();const i=(t=t||{}).random||(t.rng||d)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return function(t,e=0){return f[t[e+0]]+f[t[e+1]]+f[t[e+2]]+f[t[e+3]]+"-"+f[t[e+4]]+f[t[e+5]]+"-"+f[t[e+6]]+f[t[e+7]]+"-"+f[t[e+8]]+f[t[e+9]]+"-"+f[t[e+10]]+f[t[e+11]]+f[t[e+12]]+f[t[e+13]]+f[t[e+14]]+f[t[e+15]]}(i)};var g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var y=function(){return(y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function b(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var w,x,P=function(){var t=0;return function(){return{clientEventTimestamp:Date.now(),clientUploadTimestamp:Date.now(),sequence:++t,uuid:m()}}},E={test:"https://api-dev-statist.tcsbank.ru",prod:"https://api-statist.tinkoff.ru"},S=function(){function t(){this.listeners=Object.create(null)}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter((function(t){return t!==e})))},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.listeners[t];if(i)for(var r=0,o=i;r<o.length;r++)o[r].apply(void 0,e)},t}(),C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0,T=C.document,k=C.window,I=C.navigator,D=C.XMLHttpRequest,z=function(t){return"function"==typeof t?t():t},F=function(t){try{return k.localStorage.getItem(t)}catch(t){return null}},H=function(){var t=F("__statist_saved_messages");if(null===t)return[];try{return JSON.parse(t)}catch(t){return[]}},_=function(){return function(t){try{return k.localStorage.removeItem("__statist_saved_messages"),!0}catch(t){return!1}}()},L=function(){function t(t,e){var n,i=this;this.timer=null,this.eventEmitter=new S,this.destroy=function(){k.removeEventListener("visibilitychange",i.handleVisibilityChange),k.removeEventListener("pagehide",i.handlePageHide)},this.handleVisibilityChange=function(){"hidden"===T.visibilityState?i.sendByBeacon():i.processSavedMessages()},this.handlePageHide=function(){i.sendByBeacon()},this.pushEventsUrl="".concat(t,"/gateway/v1/events"),this.batchSize=e.batchSize,this.pushInterval=e.pushInterval,this.pushTimeout=null!==(n=e.pushTimeout)&&void 0!==n?n:e.pushInterval,this.savedMessagesSize=e.savedMessagesSize,this.gzipDisabled=!("true"===F("_statist_enable_gzip")),"visibilityState"in T&&k.addEventListener("visibilitychange",this.handleVisibilityChange,!1),k.addEventListener("pagehide",this.handlePageHide,!1),this.events=this.excludeOutdatedMessages(H()),this.sequence=this.getMaxSequence(this.events),this.events.length>0&&(_(),this.startPush())}return t.createInstance=function(e,n){return void 0===C._statistTransport&&(C._statistTransport=new t(e,n)),C._statistTransport},t.prototype.handleApiError=function(t){var e,n,i=this;if(t.status<200||t.status>=500)return this.saveMessages(t.events),void this.startPush();if(t.response)try{var r=JSON.parse(t.response);if(r.message&&(null===(e=r.details)||void 0===e?void 0:e.errors))return void r.details.errors.forEach((function(e){e&&i.eventEmitter.emit("error",Object.assign(new Error(r.message),{status:t.status,response:e}))}))}catch(t){}this.eventEmitter.emit("error",Object.assign(new Error(null!==(n=t.response)&&void 0!==n?n:t.message),{status:t.status}))},t.prototype.saveMessages=function(t){if(0===t.length)return!0;var e=b(b([],H(),!0),t,!0);if(e.length>this.savedMessagesSize){var n=e.length-this.savedMessagesSize;e.splice(0,n)}return function(t){try{return function(t,e){try{return k.localStorage.setItem("__statist_saved_messages",e),!0}catch(t){return!1}}(0,JSON.stringify(t))}catch(t){return!1}}(e)},t.prototype.excludeOutdatedMessages=function(t){var e=Date.now();return t.filter((function(t){var n=t.eventParameters.clientEventTimestamp;return e-n<5184e6}))},t.prototype.processSavedMessages=function(){this.events=b(b([],H(),!0),this.events,!0),this.events.length>0&&(_(),this.sequence=this.getMaxSequence(this.events),this.startPush())},t.prototype.on=function(t,e){this.eventEmitter.on(t,e)},t.prototype.off=function(t,e){this.eventEmitter.off(t,e)},t.prototype.startPush=function(){var t=this;this.timer||0===this.events.length||(this.timer=setTimeout((function(){return(t.isReady()?t.pushEvents(t.batchSize):Promise.resolve()).then((function(){t.timer=null,t.startPush()}),(function(e){t.timer=null,t.handleApiError(e)}))}),this.pushInterval))},t.prototype.pushEvents=function(t){var e=this.events.splice(0,t);return this.sendByXhr(e)},t.prototype.updateTimestamp=function(t){for(var e=Date.now(),n=0,i=t;n<i.length;n++)i[n].eventParameters.clientUploadTimestamp=e},t.prototype.updateSequence=function(t){t.eventParameters.sequence=++this.sequence},t.prototype.getMaxSequence=function(t){var e=0;return t.forEach((function(t){var n=t.eventParameters.sequence;n>e&&(e=n)})),e},t.prototype.sendByXhr=function(t){var e=this;return D?t.length?(this.updateTimestamp(t),new Promise((function(n,i){var r=new D,o=function(){if(r.status>=200&&r.status<=204)n();else{var e=Object.assign(new Error(r.responseText),{status:r.status,response:r.responseText,events:t});i(e)}};r.onerror=o,r.onload=o,r.timeout=e.pushTimeout;var a=JSON.stringify(t);e.gzipDisabled?e.sendEventsJSON(a,r):e.sendEventsGZip(a,r)}))):Promise.resolve():Promise.reject()},t.prototype.sendEventsJSON=function(t,e){e.open("POST",this.pushEventsUrl,!0),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.send(t)},t.prototype.sendEventsGZip=function(t,e){var n=this;(function(t){return function(t,e,n,i){return new(n||(n=Promise))((function(t,e){function r(t){try{a(i.next(t))}catch(t){e(t)}}function o(t){try{a(i.throw(t))}catch(t){e(t)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(r,o)}a((i=i.apply(undefined,[])).next())}))}(0,0,void 0,(function(){return function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){return[2,Promise.resolve().then((function(){return new Blob([t],{type:"application/json"}).stream().pipeThrough(new k.CompressionStream("gzip"))})).then((function(t){return new Response(t)})).then((function(t){return t.blob()}))]}))}))})(t).then((function(t){try{e.open("POST",n.pushEventsUrl,!0),e.setRequestHeader("Content-Type","application/gzip"),e.setRequestHeader("Content-Encoding","gzip"),e.send(t)}catch(t){}})).catch((function(){n.sendEventsJSON(t,e)}))},t.prototype.sendByBeacon=function(){var t=this.events;this.events=[],t.length&&(I.onLine?(this.updateTimestamp(t),I.sendBeacon(this.pushEventsUrl,JSON.stringify(t))||this.saveMessages(t)):this.saveMessages(t))},t.prototype.forceSend=function(){this.sendByBeacon()},t.prototype.send=function(t){this.updateSequence(t),this.events.push(t),this.startPush()},t.prototype.isReady=function(){return!0},t}(),M=function(t,e,n){var i=null!=n?n:new Date(Date.now()+15768e7).toUTCString();return T.cookie="".concat(t,"=").concat(encodeURIComponent(e),"; expires=").concat(i,"; path=/; domain=").concat(k.location.hostname.split(".").slice(-2).join(".")),e},O=function(t){return T.cookie.split("; ").reduce((function(e,n){var i=n.split("=");return i[0]===t?decodeURIComponent(i[1]):e}),"")||null},U=function(t){null!==O(t)&&M(t,"",new Date(0).toUTCString())},N=function(){function t(t,e,n,i){void 0===i&&(i=18e5),this.clientParameters=t,this.transport=e,this.eventParameters=n,this.sessionTimeout=i,this.deviceId=O("stDeIdU")||M("stDeIdU",m()),this.screenWidth=k.screen.width,this.screenHeight=k.screen.height,this.codegenVersion="",this.eventEmitter=new S}return t.prototype.getSessionId=function(){var t=O("vIdUid"),e=Number(O("stLaEvTi"))||null;if(null!==t&&null!==e&&Date.now()-e<this.sessionTimeout)return t;var n=M("vIdUid",m());return U("stLaEvTi"),U("stSeStTi"),n},t.prototype.getSessionStartTime=function(){return null===O("stSeStTi")?Date.now():Number(O("stSeStTi"))},t.prototype.resolveClientParameters=function(t){return y(y({},null!=t?t:this.clientParameters),{sessionId:this.getSessionId(),deviceId:this.deviceId,sessionStartTime:this.getSessionStartTime(),screenWidth:this.screenWidth,screenHeight:this.screenHeight,sdkVersion:"0.4.56",codegenVersion:this.codegenVersion})},t.prototype.transportSend=function(t){this.transport.send(t),M("stLaEvTi",Date.now()),null===O("stSeStTi")&&M("stSeStTi",t.clientParameters.sessionStartTime)},t.prototype.sendUserProperties=function(t,e,n,i){var r,o,a=((r={kind:"userProperties",project:t,eventParameters:z(this.eventParameters),clientParameters:this.resolveClientParameters()})[n]=((o={})["$".concat(e)]=i,o),r);this.transportSend(a),this.eventEmitter.emit("message",{type:"userProperties",message:a})},t.prototype.send=function(t,e,n,i){var r={project:t,name:e,parameters:n,eventParameters:z(this.eventParameters),clientParameters:this.resolveClientParameters(i)};this.transportSend(r),this.eventEmitter.emit("message",{type:"event",message:r})},t.prototype.updateClientParameters=function(t){for(var e in t)this.clientParameters[e]=t[e]},t.prototype.updateUserProperties=function(t,e,n){this.sendUserProperties(t,e,"userProperties",null!=n?n:{})},t.prototype.updateFeatureFlags=function(t,e){this.sendUserProperties(t,"set","featureFlags",null!=e?e:{})},t.prototype.updateABGroups=function(t,e){this.sendUserProperties(t,"set","ABGroups",null!=e?e:{})},t.prototype.on=function(t,e){"message"===t?this.eventEmitter.on(t,e):this.transport.on(t,e)},t.prototype.off=function(t,e){"message"===t?this.eventEmitter.off(t,e):this.transport.off(t,e)},t.prototype.forceSend=function(){var t,e;null===(e=(t=this.transport).forceSend)||void 0===e||e.call(t)},t.prototype._setCodegenVersion=function(t){this.codegenVersion=t},t}(),V=function(t){function e(e){var n=e.transportOptions||{},i=n.batchSize,r=void 0===i?500:i,o=n.pushInterval,a=void 0===o?15e3:o,s=n.pushTimeout,c=void 0===s?3e4:s,l=n.savedMessagesSize,u=void 0===l?1e3:l,p=n.gzip,h=void 0===p||p,d=n.endpointUrl,f=void 0===d?E[e.environment]:d;return t.call(this,e.clientParameters,L.createInstance(f,{batchSize:r,pushInterval:a,pushTimeout:c,preconnect:!1,savedMessagesSize:u,gzip:h}),e.eventParameters||P(),e.sessionTimeout)||this}return v(e,t),e.prototype.send=function(e,n,i,r){return t.prototype.send.call(this,e,n,i||{},r)},e}(N),A=(function(t){function e(e){var n=e.transportOptions||{},i=n.batchSize,r=void 0===i?500:i,o=n.pushInterval,a=void 0===o?15e3:o,s=n.pushTimeout,c=void 0===s?3e4:s,l=n.savedMessagesSize,u=void 0===l?1e3:l,p=n.gzip,h=void 0===p||p,d=n.endpointUrl,f=void 0===d?E[e.environment]:d;return t.call(this,e.clientParameters,L.createInstance(f,{batchSize:r,pushInterval:a,pushTimeout:c,preconnect:!1,savedMessagesSize:u,gzip:h}),e.eventParameters||P(),e.sessionTimeout)||this}v(e,t),e.prototype.send=function(e,n,i,r){return t.prototype.send.call(this,e,n,i,r)}}(N),function(){return A=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},A.apply(this,arguments)}),B=function(){function t(){}return t.initAnalytics=function(e){t.authParams=e,t.analyticsClient=new V({environment:"prod",clientParameters:{clientVersion:"1.0.0",client:t.authParams.clientId},transportOptions:{pushInterval:0}})},t.sendEvent=function(e,n){void 0===n&&(n={}),this.analyticsClient.send("tinkoffID.partners.widget",e,A({clientId:t.authParams.clientId},n))},t.sendMetric=function(t,e){this.analyticsClient.send("tinkoffID.partners.metrics",t,e)},t}(),j=function(){function t(){}return t.init=function(){t.startTime=+new Date},t.getLoadTime=function(e){return e-t.startTime},t.startTime=0,t}(),Z=function(){function t(){}return t.open=function(t,e,n,i){void 0===n&&(n="_self"),void 0===i&&(i={}),B.sendEvent("".concat(function(t){return"white-label"===t?"wl":t}(e),".login"),i),B.sendMetric("widget.loadTimeToLogin",{widget:e,loadTime:j.getLoadTime(+new Date)}),window.open(t,n,"scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=900,height=500,left=100,top=100")},t}(),R=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))},q=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},G=function(){function t(){}return t.getUserInfo=function(t){return R(this,void 0,void 0,(function(){return q(this,(function(e){return[2,fetch("https://id.tbank.ru/preidentity/api/v1/user-info",{method:"POST",credentials:"include",body:JSON.stringify({clientId:t})}).then((function(t){return t.json()}))]}))}))},t.invalidateUaid=function(t){return R(this,void 0,void 0,(function(){return q(this,(function(e){return[2,fetch("https://id.tbank.ru/preidentity/api/v1/invalidate-uaid",{method:"POST",credentials:"include",body:JSON.stringify({clientId:t})})]}))}))},t}();!function(t){t.XS="xs",t.S="s",t.M="m",t.L="l"}(w||(w={})),function(t){t.Primary="primary",t.Grey="grey",t.Black="black",t.White="white"}(x||(x={}));var J="9TARM",X={logo:{display:"flex"},"logo-xs":{width:"37px",height:"20px","border-radius":"18px"},"logo-xs > svg":{width:"37px",height:"20px",fill:"#FFDD2D"},"logo-s":{width:"27px",height:"14px","border-radius":"12px"},"logo-s > svg":{width:"27px",height:"14px"},"logo-m":{width:"37px",height:"20px","border-radius":"18px"},"logo-m > svg":{width:"37px",height:"20px",fill:"#FFDD2D"},"logo-l":{width:"47px",height:"25px","border-radius":"23px",border:"none"},"logo-l > svg":{width:"47px",height:"25px",fill:"#FFDD2D"},"logo-right-s":{"margin-right":"5px"},"logo-right-m":{"margin-right":"7px"},"logo-right-l":{"margin-right":"9px"},"logo-left-s":{"margin-left":"5px"},"logo-left-m":{"margin-left":"7px"},"logo-left-l":{"margin-left":"9px"},"logo-black":{outline:"2px solid #FFFFFF"}},W=function(){function t(){}return t.init=function(){t.hasAlreadyInitialized||(a.createStyles(X,J),t.hasAlreadyInitialized=!0)},t.hasAlreadyInitialized=!1,t}(),Y=n(800),K=n.n(Y),$=n(749),Q=n.n($),tt=n(599),et=n.n(tt),nt=function(){function t(){}return t.init=function(t,e,n){W.init();var r=new i("i","logo",J);r.addClasses([t,"".concat(n,"-").concat(t),e]);var o=null;switch(t){case w.S:o=K();break;case w.XS:case w.M:o=Q();break;case w.L:o=et()}return r.innerHTML(o),r.getElement()},t}(),it=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))},rt=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ot=function(){function t(t,e){this.authParams=t,this.uiParams=e,l.init(),this.init()}return t.prototype.init=function(){return it(this,void 0,void 0,(function(){var t,e,n,a,c,l=this;return rt(this,(function(u){if(null===(t=o(this.uiParams.container)))throw new Error("Не найден контейнер для кнопки по селектору ".concat(this.uiParams.container));if(void 0!==this.uiParams.text&&this.uiParams.text.length>20)throw new Error("Максимальная длина поля text 20 символов");return(e=new i("button","button",s)).addClasses([this.uiParams.color,this.uiParams.size]),e.addListener("click",(function(){var t=l.authParams.customUri||r({response_type:l.authParams.responseType,scope_parameters:l.authParams.scopeParameters,client_id:l.authParams.clientId,redirect_uri:l.authParams.redirectUri,state:l.authParams.state});Z.open(t,"button",l.uiParams.target)})),n=new i("span","inner",s),this.uiParams.size!==w.XS&&this.drawText(n,e),e.appendChildElement(n.getElement()),a=nt.init(this.uiParams.size,this.uiParams.color,this.uiParams.textPosition||"left"),n.insertAdjacentElement("right"===this.uiParams.textPosition?"beforebegin":"afterend",a),this.uiParams.badge&&this.uiParams.size!==w.XS&&(e.addClasses(["badge","badge-".concat(this.uiParams.size)]),(c=new i("span","badge",s)).addClasses([this.uiParams.size,this.uiParams.color]),c.innerText(this.uiParams.badge),e.appendChildElement(c.getElement())),t.appendChild(e.getElement()),B.sendEvent("button.initialized"),[2]}))}))},t.prototype.drawText=function(t,e){return it(this,void 0,void 0,(function(){var n,r;return rt(this,(function(o){switch(o.label){case 0:if((n=new i("span","text",s)).addClasses([this.uiParams.color,this.uiParams.size]),n.innerText(this.uiParams.text||"Т-Банк"),t.appendChildElement(n.getElement()),!this.uiParams.recognized)return[3,4];r=void 0,e.addClasses(["full"]),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,G.getUserInfo(this.authParams.clientId)];case 2:return(r=o.sent()).firstName&&(n.innerText("".concat(r.firstName,", войдите с Т-ID")),B.sendEvent("button.recognized")),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}}))}))},t}(),at="1MRDA",st={notification:{"box-sizing":"border-box","background-color":"white","box-shadow":"0px 4px 24px rgba(0, 0, 0, 0.12)","border-radius":"24px",margin:"16px",position:"fixed","z-index":99999,"animation-duration":"300ms","animation-timing-function":"ease-in-out","max-width":"360px",width:"100%",padding:"20px"},"notification-opened":{"animation-name":"slideIn"},"notification-closed":{"animation-name":"slideOut"},header:{display:"flex","align-items":"center"},title:{margin:0,"font-size":"13px","line-height":"20px",color:"rgba(0, 0, 0, 0.54)","margin-left":"12px",cursor:"default"},"close-button":{position:"absolute",right:"12px",top:"12px",width:"24px",height:"24px","border-radius":"50%",border:"none",cursor:"pointer","background-color":"rgba(242, 242, 242, 0.32)"},"close-button:hover":{"background-color":"rgba(0, 0, 0, 0.04)"},"close-button:active":{"background-color":"rgba(0, 0, 0, 0.08)"},"close-icon":{width:"16px",height:"16px",display:"block",transform:"translate(-50%, -50%)",left:"50%",top:"50%",position:"absolute"},content:{margin:"12px 0",color:"rgba(0, 0, 0, 0.8)","font-weight":500,"font-size":"15px","line-height":"20px",cursor:"default"},"login-button":{display:"inline-block",border:"none","background-color":"#ECF1F7","border-radius":"12px",color:"#336FEE",padding:"8px 12px","font-weight":400,"font-size":"15px","line-height":"20px",cursor:"pointer"},"login-button:active":{"background-color":"#DDE4ED"},"itsnotme-button":{display:"inline-block",border:"none",color:"#336FEE",background:"white","margin-left":"16px","font-weight":400,"font-size":"15px","line-height":"20px",cursor:"pointer"},"itsnotme-button:active":{color:"#1F50BA"}},ct=function(){function t(){}return t.init=function(e){if(!t.hasAlreadyInitialized){var n=function(t){return t.includes("left")?"left":t.includes("right")?"right":"top-mid"===t?"top":"bottom"}(e);a.createStyles(st,at,"@keyframes slideIn {\n        from { ".concat(n,": -100%; }\n        to { ").concat(n,": var(--var-").concat(n,"); }\n      }\n\n      @keyframes slideOut {\n        from { ").concat(n,": var(--var-").concat(n,"); }\n        to { ").concat(n,": -100%; }\n      }")),t.hasAlreadyInitialized=!0}},t.hasAlreadyInitialized=!1,t}(),lt=n(665),ut=n.n(lt),pt=function(){function t(){}return t.getCloseButton=function(){var t=new i("button","close-button",at);return t.appendChildElement(this.getCloseIcon()),t.getElement()},t.getCloseIcon=function(){var t=new i("i","close-icon",at);return t.innerHTML(ut()),t.getElement()},t}(),ht=function(){function t(t,e){var n=this;this.notificationElement=null,this.hasNotificationShown=!1,this.handleScroll=function(){var t;100*window.scrollY/window.innerHeight>Number(null===(t=n.uiParams.triggers.scroll)||void 0===t?void 0:t.offsetY)&&!n.hasNotificationShown&&(B.sendEvent("notification.shown.scroll"),document.body.appendChild(n.notificationElement.getElement()),n.hasNotificationShown=!0)},this.handleLoginButtonClick=function(){Z.open(r({response_type:n.authParams.responseType,scope_parameters:n.authParams.scopeParameters,client_id:n.authParams.clientId,redirect_uri:n.authParams.redirectUri,state:n.authParams.state}),"notification",n.uiParams.target)},this.handleItsnotmeButton=function(){G.invalidateUaid(n.authParams.clientId).then((function(){Z.open(r({response_type:n.authParams.responseType,scope_parameters:n.authParams.scopeParameters,client_id:n.authParams.clientId,redirect_uri:n.authParams.redirectUri,state:n.authParams.state,prompt:"login"}),"notification",n.uiParams.target)}))},this.handleCloseButtonClick=function(){var t,e;null===(t=n.notificationElement)||void 0===t||t.replaceClasses("opened","closed"),null===(e=n.notificationElement)||void 0===e||e.addListener("animationend",n.removeNotificationElement),window.removeEventListener("scroll",n.handleScroll)},this.removeNotificationElement=function(){var t;B.sendEvent("notification.close"),null===(t=n.notificationElement)||void 0===t||t.remove(),n.notificationElement=null},this.authParams=t,this.uiParams=e,ct.init(this.uiParams.place),B.sendEvent("notification.initialized"),this.init()}return t.prototype.init=function(){return function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,G.getUserInfo(this.authParams.clientId)];case 1:return t=e.sent(),!0===this.uiParams.recognized&&t.firstName?(this.buildNotificationElement(t),this.addNotificationElementToDom(),[2]):(this.buildNotificationElement(t),this.addNotificationElementToDom(),[3,3]);case 2:return e.sent(),this.buildNotificationElement(),this.addNotificationElementToDom(),[3,3];case 3:return[2]}}))}))},t.prototype.buildNotificationElement=function(t){void 0===t&&(t={}),this.notificationElement=new i("div","notification",at),this.notificationElement.addClasses(["opened"]);var e=function(t){switch(t){case"top-left":return{top:0,left:0};case"top-mid":return{top:0,left:"50%",transform:"translateX(-50%)"};case"top-right":return{top:0,right:0};case"mid-left":return{top:"50%",transform:"translateY(-50%)",left:0};case"mid-right":return{top:"50%",transform:"translateY(-50%)",right:0};case"bottom-left":return{bottom:0,left:0};case"bottom-mid":return{bottom:0,left:"50%",transform:"translateX(-50%)"};case"bottom-right":return{bottom:0,right:0}}}(this.uiParams.place);for(var n in e){var r=e[n];this.notificationElement.getElement().style[n]=r,this.notificationElement.getElement().style.setProperty("--var-".concat(n),r)}this.uiParams.zIndex&&(this.notificationElement.getElement().style.zIndex="".concat(this.uiParams.zIndex));var o=new i("div","header",at),a=new i("p","title",at);a.innerText("Вход с T-ID");var s,c,l=new i("p","content",at);l.innerHTML((s=t.appName,c=t.firstName,s&&c?"".concat(c,", используйте T-ID <br />для быстрого входа в ").concat(s):s?"Используйте T-ID для быстрого входа в ".concat(s):"Вы можете войти с T-ID"));var u=new i("button","login-button",at);u.innerText("Продолжить"),u.addListener("click",this.handleLoginButtonClick),this.notificationElement.appendChildElement(o.getElement());var p=pt.getCloseButton();if(p.addEventListener("click",this.handleCloseButtonClick),this.notificationElement.appendChildElement(p),o.appendChildElement(nt.init(w.M,x.Black)),o.appendChildElement(a.getElement()),this.notificationElement.appendChildElement(l.getElement()),this.notificationElement.appendChildElement(u.getElement()),t.firstName){var h=new i("button","itsnotme-button",at);h.innerText("Это не я"),h.addListener("click",this.handleItsnotmeButton),this.notificationElement.appendChildElement(h.getElement())}},t.prototype.addNotificationElementToDom=function(){var t=this.notificationElement.getElement(),e=this.uiParams.triggers,n=e.click,i=e.pageLoad,r=e.scroll;(null==n?void 0:n.isActive)&&this.showOnClick(t),(null==i?void 0:i.isActive)&&this.showOnPageLoad(t),(null==r?void 0:r.isActive)&&this.showOnScroll()},t.prototype.showOnClick=function(t){var e,n,i=this,r=o(null===(e=this.uiParams.triggers.click)||void 0===e?void 0:e.element);if(null===r)throw new Error("Не найден элемент по селектору ".concat(null===(n=this.uiParams.triggers.click)||void 0===n?void 0:n.element));r.addEventListener("click",(function(){i.hasNotificationShown||(B.sendEvent("notification.shown.click"),document.body.appendChild(t),i.hasNotificationShown=!0)}))},t.prototype.showOnPageLoad=function(t){var e,n=this;setTimeout((function(){n.hasNotificationShown||(B.sendEvent("notification.shown.timeout"),document.body.appendChild(t),n.hasNotificationShown=!0)}),null===(e=this.uiParams.triggers.pageLoad)||void 0===e?void 0:e.delay)},t.prototype.showOnScroll=function(){window.addEventListener("scroll",this.handleScroll)},t}(),dt=100,ft=function(){function t(t,e){if(this.uiParams=e,this.authParams=t,Number.isInteger(this.uiParams.percentageAuth)){if(this.uiParams.percentageAuth>=0&&this.uiParams.percentageAuth<=dt){var n=dt-this.uiParams.percentageAuth;(function(t,e){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i]+(n[i-1]||0);for(var r=n[n.length-1]*Math.random(),o=0;o<t.length;o++)if(n[o]>=r)return{item:t[o],index:o};return{item:t[0],index:0}})([!0,!1],[this.uiParams.percentageAuth,n]).item&&this.init()}}else this.init()}return t.prototype.init=function(){var t=this,e=o(this.uiParams.input),n=o(this.uiParams.actionElement);if(!e&&!n)throw new Error("Не найдены поле ввода и кнопка. Поле ввода: ".concat(e,", кнопка: ").concat(n));!e||n?(e&&n&&(n instanceof HTMLFormElement?this.addActionToElement(n,"submit",e):n instanceof HTMLElement&&this.addActionToElement(n,"click",e)),B.sendEvent("wl.initialized",{percentageAuth:this.uiParams.percentageAuth||dt})):e.addEventListener("keypress",(function(n){var i=e.value.replace(/[^0-9]/g,"");"Enter"===n.key&&""!==i&&t.openWindow(i)}))},t.prototype.addActionToElement=function(t,e,n){var i=this;t.addEventListener(e,(function(t){t.preventDefault();var e=n.value.replace(/[^0-9]/g,"");i.openWindow(e)}))},t.prototype.openWindow=function(t){Z.open(r({response_type:this.authParams.responseType,scope_parameters:this.authParams.scopeParameters,client_id:this.authParams.clientId,redirect_uri:this.uiParams.redirectUri||this.authParams.redirectUri,state:this.authParams.state,phone:t,prompt:"otp"}),"white-label",this.uiParams.target,{percentageAuth:this.uiParams.percentageAuth||dt})},t}(),mt=function(){function t(t){this.authParams=t,this.init()}return t.prototype.init=function(){return function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,G.getUserInfo(this.authParams.clientId)];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},t}();const gt=function(){function t(t){this.authParams=t,j.init(),B.initAnalytics(this.authParams)}return t.prototype.addButton=function(t){new ot(this.authParams,t)},t.prototype.addWL=function(t){new ft(this.authParams,t)},t.prototype.addNotification=function(t){new ht(this.authParams,t)},t.prototype.addPixel=function(){new mt(this.authParams)},t.__VERSION__="1.0.0",t}()},291:(t,e,n)=>{"use strict";var i=n(913).Z;t.exports=i}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var i=n(291);TidSDK=i})();